@startuml
skinparam nodesep 50
skinparam ranksep 50

node "Cliente (Frontend)" {
  component "Página Inicial" as Home
  component "Catálogo" as Catalog
  component "Detalhes Veículo" as Details
  component "Galeria Imagens" as Gallery
  component "Financiamento" as Finance
  component "Autenticação" as Auth
}

node "Servidor Web" {
  component "API Gateway" as API
  component "Auth Service" as AuthS
  component "Vehicle Service" as VehicleS
  component "Gallery Service" as GalleryS
  component "Finance Service" as FinanceS
  database "Sessões" as Session
}

node "Banco de Dados" {
  database "MySQL" as DB {
    component "vehicles" as VTable
    component "vehicle_images" as VITable
    component "users" as UTable
    component "favorites" as FTable
  }
}

node "Serviços Externos" {
  component "CDN Imagens" as CDN
  component "Email Service" as Email
}

' Conexões
Home --> API
Catalog --> API
Details --> API
Gallery --> API
Finance --> API
Auth --> API

API --> AuthS
API --> VehicleS
API --> GalleryS
API --> FinanceS

AuthS --> Session
VehicleS --> VTable
GalleryS --> VITable
VehicleS --> FTable
AuthS --> UTable

GalleryS --> CDN
FinanceS --> Email

Details --> Gallery
Gallery --> CDN

note right of Details
  **Página de Detalhes**
  - Galeria responsiva
  - Miniaturas navegáveis
  - Estados loading/error
  - Navegação por teclado
end note

@enduml